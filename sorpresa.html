<!doctype html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Sorpresa ‚Äî Carta y Flores</title>
<style>
  :root{
    --bg:#070814;
    --panel:rgba(255,255,255,0.03);
    --accent:#ffd54a;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial;background:linear-gradient(180deg,#03030a 0%,#0b0f1a 60%);color:#fff;overflow:hidden}
  .overlay{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:60}
  .card{background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));padding:22px;border-radius:12px;width:360px;text-align:center;border:1px solid rgba(255,213,74,0.06)}
  h2{margin:0 0 8px;color:var(--accent);text-shadow:0 0 12px rgba(255,213,74,0.14)}
  .pin{width:200px;padding:10px;border-radius:8px;border:1px solid rgba(255,255,255,0.06);background:rgba(255,255,255,0.02);color:#fff;font-size:18px;text-align:center}
  .btn{margin-top:12px;padding:10px 14px;border-radius:10px;border:none;background:linear-gradient(90deg,#ffd54a,#ffdf7a);color:#111;font-weight:800;cursor:pointer}
  .hint{font-size:13px;color:#ddd;margin-top:8px;opacity:0.9}
  .main{display:none;height:100vh;position:relative;overflow:hidden}
  .noteBox{position:absolute;left:50%;top:12%;transform:translateX(-50%);max-width:760px;width:86%;background:linear-gradient(180deg,rgba(0,0,0,0.25),rgba(255,255,255,0.02));border-radius:14px;padding:20px;border:1px solid rgba(255,213,74,0.06);box-shadow:0 8px 40px rgba(0,0,0,0.6);z-index:40}
  .noteBox h1{margin:0;color:var(--accent);text-shadow:0 0 18px rgba(255,213,74,0.2);font-size:34px}
  .noteBox p{margin:12px 0 0;line-height:1.5;font-size:18px;color:#fff}
  .flowersLayer{position:absolute;inset:0;pointer-events:none;z-index:30}
  .flower{position:absolute;width:36px; height:36px; transform-origin:center center; will-change:transform, filter, opacity; filter: drop-shadow(0 6px 18px rgba(0,0,0,0.45)); opacity:0.95;}
  @keyframes sway {0%{transform: translateY(0) rotate(0) scale(1)}50%{transform: translateY(-6px) rotate(4deg) scale(1.02)}100%{transform: translateY(0) rotate(0) scale(1)}}
  @keyframes tinySway {0%{transform: translateX(0) rotate(0)}50%{transform: translateX(6px) rotate(3deg)}100%{transform: translateX(0) rotate(0)}}
  @keyframes glow {0%{filter:drop-shadow(0 6px 10px rgba(255,200,40,0.08)) saturate(1); opacity:0.9}50%{filter:drop-shadow(0 18px 30px rgba(255,215,80,0.45)) saturate(1.1); opacity:1}100%{filter:drop-shadow(0 6px 10px rgba(255,200,40,0.08)) saturate(1); opacity:0.9}}
  .spark{position:absolute;width:6px;height:6px;border-radius:50%;background:radial-gradient(circle,#ffd54a,#ffb74d 40%,transparent 70%);filter:blur(0.8px);pointer-events:none;opacity:0.9;z-index:35}
  .letter{margin-top:12px;font-size:16px;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(0,0,0,0.18));padding:14px;border-radius:10px;color:#fff;box-shadow:0 8px 30px rgba(0,0,0,0.45);}
  @media (max-width:640px){.noteBox h1{font-size:24px}.noteBox p{font-size:16px}.flower{width:28px;height:28px}}
  /* Bot√≥n de m√∫sica elegante */
  .music-btn{
    background: linear-gradient(90deg,#ffd54a,#ffdf7a);
    color:#111;
    font-weight:800;
    border:none;
    border-radius:20px;
    padding:12px 20px;
    cursor:pointer;
    box-shadow: 0 4px 12px rgba(255,215,80,0.6);
    transition: all 0.25s ease-in-out;
  }
  .music-btn:hover{
    transform: scale(1.05);
    box-shadow: 0 6px 18px rgba(255,215,80,0.85);
  }
</style>
</head>
<body>

  <!-- PIN overlay -->
  <div class="overlay" id="overlay" role="dialog" aria-modal="true">
    <div class="card">
      <h2>Acceso privado</h2>
      <div>Mi amor hice este detalle para ti, es algo que lo hice con mucho amor, no es la gran cosa, pero sinceramente me costo hacerloüòÖaunque tambien no me salio como realmente queria, pero es todo lo que pude hacer, espero te guste AMOR‚ò∫Ô∏è‚ù§Ô∏è</div> 
      <div>Ingres√° los 4 d√≠gitos para ver tu sorpresa ‚ú®</div>
      <input id="pin" class="pin" type="password" maxlength="4" inputmode="numeric" placeholder="____" aria-label="PIN de 4 d√≠gitos">
      <div><button id="openBtn" class="btn">Entrar</button></div>
      <div class="hint">Pista: los 4 d√≠gitos son especiales‚ò∫Ô∏è</div>
      <div id="err" style="color:#ff9b9b;margin-top:8px;display:none">PIN incorrecto</div>
    </div>
  </div>

  <!-- Main area -->
  <main class="main" id="mainContent" aria-hidden="true">
    <div class="noteBox" role="region" aria-label="Nota de amor">
      <h1>Para ti mi amor</h1>
      <h1>Feliz D√≠a de la Primavera Preciosaüåª‚ò∫Ô∏è</h1>
      <p id="letterText" class="letter">
        Amor c√≥mo est√°s? Espero que al recibir estas palabras tu coraz√≥n sonr√≠a. S√© que hoy no puedo llenarte las manos de flores amarillas como realmente quisieraüòì pero s√≠ quiero llenarte el alma con este detalle‚ò∫Ô∏è
        Esto es lo que puedo hacer ahora, escribirte desde lo m√°s profundo de mi coraz√≥n‚ù§Ô∏è imagina que en cada letra que te escribo hay p√©talos que brillan para tiüåª‚ú® aun as√≠ quiero que sepas que llegar√° el d√≠a en que pueda regalarte muchas, pero muuuchas floresüíêüåª tantas que ni siquiera te van a entrar en los brazosü§≠ y ese d√≠a cuando tus manos est√©n llenos de flores, quiero que tambi√©n tu coraz√≥n este lleno de alegr√≠a y certeza, la certeza de que este amor por ti es para siempre
        Te amo con todo mi coraz√≥n‚ù§Ô∏è y este peque√±o regalo es solo un recordatorio de lo mucho que significas para m√≠‚ò∫Ô∏è
        <div>Con todo mi amorüåª
        Tu pida√±aüêü</div>
      </p>
    </div>

    <!-- Bot√≥n de m√∫sica -->
    <div style="position:fixed;bottom:20px;left:50%;transform:translateX(-50%);z-index:50;">
      <button id="musicBtn" class="btn music-btn">Reproducir üéµ</button>
    </div>

    <!-- M√∫sica de fondo -->
    <audio id="music" loop>
      <source src="cancion.mp3" type="audio/mpeg">
      Tu navegador no soporta audio.
    </audio>

    <!-- Flores y chispas -->
    <div class="flowersLayer" id="flowersLayer" aria-hidden="false"></div>
    <div id="sparksLayer" aria-hidden="true"></div>
  </main>

<script>
const VALID_PIN = '1906';
const openBtn = document.getElementById('openBtn');
const pinInput = document.getElementById('pin');
const overlay = document.getElementById('overlay');
const mainContent = document.getElementById('mainContent');
const err = document.getElementById('err');
const music = document.getElementById('music');
const musicBtn = document.getElementById('musicBtn');

openBtn.addEventListener('click', tryOpen);
pinInput.addEventListener('keyup', e => { if(e.key === 'Enter') tryOpen(); });

musicBtn.addEventListener('click', () => {
  if(music.paused){
    music.play();
    musicBtn.textContent = 'Pausar üéµ';
  } else {
    music.pause();
    musicBtn.textContent = 'Reproducir üéµ';
  }
});

function tryOpen(){
  const code = (pinInput.value || '').trim();
  if(code === VALID_PIN){
    overlay.style.display = 'none';
    mainContent.style.display = 'block';
    mainContent.setAttribute('aria-hidden','false');
    createFlowers(90);
    createSparks(26);
    document.getElementById('letterText').focus();
    music.play();
    musicBtn.textContent = 'Pausar üéµ';
  } else {
    err.style.display = 'block';
    err.textContent = 'PIN incorrecto';
    document.querySelector('.card').animate([
      { transform: 'translateX(0)' }, { transform: 'translateX(-8px)' },
      { transform: 'translateX(8px)' }, { transform: 'translateX(0)' }
    ], { duration: 360 });
  }
}

function flowerSVG(size=36){
  return `
    <svg viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false">
      <defs>
        <radialGradient id="g" cx="30%" cy="20%">
          <stop offset="0%" stop-color="#fff9d1"/>
          <stop offset="45%" stop-color="#ffd54a"/>
          <stop offset="100%" stop-color="#ffb900"/>
        </radialGradient>
      </defs>
      <g transform="translate(32,32)">
        <g fill="url(#g)">
          <ellipse rx="6" ry="14" transform="rotate(0) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(30) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(60) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(90) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(120) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(150) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(180) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(210) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(240) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(270) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(300) translate(0,-28)"/>
          <ellipse rx="6" ry="14" transform="rotate(330) translate(0,-28)"/>
        </g>
        <circle r="8" fill="#2e1808" />
        <circle r="3" fill="#1f0f07" opacity="0.9"/>
      </g>
    </svg>
  `;
}

function createFlowers(n=80){
  const layer = document.getElementById('flowersLayer');
  for(let i=0;i<n;i++){
    const el = document.createElement('div');
    el.className = 'flower';
    const scale = (0.7 + Math.random()*0.9);
    const size = Math.round(24 * scale);
    el.style.width = (size) + 'px';
    el.style.height = (size) + 'px';
    let x, y, tries = 0;
    do { x = Math.random()*100; y = Math.random()*100; tries++; } while(inNoteArea(x,y) && tries < 12);
    el.style.left = x + '%';
    el.style.top = y + '%';
    el.innerHTML = flowerSVG(size);
    const dur = (2.6 + Math.random()*2.2).toFixed(2) + 's';
    const delay = (Math.random()*1.6).toFixed(2) + 's';
    const dir = Math.random() > 0.5 ? 'normal' : 'reverse';
    el.style.animation = `sway ${dur} ease-in-out ${delay} infinite ${dir}`;
    el.style.transformOrigin = '50% 60%';
    el.style.filter = 'drop-shadow(0 6px 18px rgba(0,0,0,0.45))';
    el.animate([{filter:'drop-shadow(0 6px 10px rgba(255,200,40,0.08))', opacity:0.92},{filter:'drop-shadow(0 18px 34px rgba(255,215,80,0.45))', opacity:1},{filter:'drop-shadow(0 6px 10px rgba(255,200,40,0.08))', opacity:0.92}], { duration: (1400 + Math.random()*2000), iterations: Infinity, direction: 'alternate', easing:'ease-in-out', delay: Math.random()*1000 });
    layer.appendChild(el);
  }
}

function inNoteArea(xPercent, yPercent){return xPercent>20 && xPercent<80 && yPercent>6 && yPercent<30;}
function createSparks(count=20){const sl = document.getElementById('sparksLayer');for(let i=0;i<count;i++){const s=document.createElement('div');s.className='spark';const size=2+Math.random()*6;s.style.width=size+'px';s.style.height=size+'px';s.style.left=(3+Math.random()*94)+'%';s.style.top=(6+Math.random()*88)+'%';s.style.opacity=(0.4+Math.random()*0.8);document.body.appendChild(s);const dur=2500+Math.random()*5000;s.animate([{ transform: 'translateY(0) scale(1)', opacity: s.style.opacity },{ transform: 'translateY(-28px) scale(1.6)', opacity: 0.12 }],{duration:dur,iterations:Infinity,direction:'alternate',easing:'ease-in-out',delay:Math.random()*1000});}}
window.addEventListener('resize',()=>{});
window.addEventListener('load',()=>{ pinInput.focus(); });
</script>

</body>
</html>